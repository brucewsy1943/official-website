<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.official.dao.LinkMapper" >
  <resultMap id="BaseResultMap" type="com.official.bean.Link" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Mon Jan 28 09:38:24 CST 2019.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="linkName" property="linkname" jdbcType="VARCHAR" />
    <result column="linkPosition" property="linkposition" jdbcType="VARCHAR" />
    <result column="picturePath" property="picturepath" jdbcType="VARCHAR" />
    <result column="linkType" property="linktype" jdbcType="INTEGER" />
    <result column="linkUrl" property="linkurl" jdbcType="VARCHAR" />
    <result column="pubTime" property="pubtime" jdbcType="TIMESTAMP" />
    <result column="pubTimeType" property="pubtimetype" jdbcType="INTEGER" />
    <result column="expiredTime" property="expiredtime" jdbcType="TIMESTAMP" />
    <result column="expiredTimeType" property="expiredTimeType" jdbcType="INTEGER" />
    <result column="isShow" property="isshow" jdbcType="INTEGER" />
    <result column="orderId" property="orderid" jdbcType="INTEGER" />
    <result column="remark" property="remark" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="INTEGER" />
  </resultMap>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from t_link
    where id = #{id,jdbcType=INTEGER}
  </delete>
  
  <insert id="insert" parameterType="com.official.bean.Link" >
    insert into t_link (linkName, linkPosition, 
      picturePath, linkType, linkUrl, 
      pubTime, pubTimeType, expiredTime, 
      isShow, orderId, remark, 
      status,expiredTimeType)
    values (#{linkname,jdbcType=VARCHAR}, #{linkposition,jdbcType=VARCHAR}, 
      #{picturepath,jdbcType=VARCHAR}, #{linktype,jdbcType=INTEGER}, #{linkurl,jdbcType=VARCHAR}, 
      #{pubtime,jdbcType=TIMESTAMP}, #{pubtimetype,jdbcType=INTEGER}, #{expiredtime,jdbcType=TIMESTAMP}, 
      #{isshow,jdbcType=INTEGER}, #{orderid,jdbcType=INTEGER}, #{remark,jdbcType=VARCHAR}, 
      #{status,jdbcType=INTEGER},#{expiredTimeType})
  </insert>
  
  
  <update id="updateByPrimaryKey" parameterType="com.official.bean.Link" >
    update t_link
    set linkName = #{linkname,jdbcType=VARCHAR},
      linkPosition = #{linkposition,jdbcType=VARCHAR},
      picturePath = #{picturepath,jdbcType=VARCHAR},
      linkType = #{linktype,jdbcType=INTEGER},
      linkUrl = #{linkurl,jdbcType=VARCHAR},
      pubTime = #{pubtime,jdbcType=TIMESTAMP},
      pubTimeType = #{pubtimetype,jdbcType=INTEGER},
      expiredTime = #{expiredtime,jdbcType=TIMESTAMP},
      expiredTimeType = #{expiredTimeType},
      isShow = #{isshow,jdbcType=INTEGER},
      orderId = #{orderid,jdbcType=INTEGER},
      remark = #{remark,jdbcType=VARCHAR},
      status = #{status,jdbcType=INTEGER}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    select id, linkName, linkPosition, picturePath, linkType, linkUrl, pubTime, pubTimeType, 
    expiredTime, isShow, orderId, remark, status,expiredTimeType
    from t_link
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap"  parameterType="java.lang.Integer">
    select id, linkName, linkPosition, picturePath, linkType, linkUrl, pubTime, pubTimeType, 
    expiredTime, isShow, orderId, remark, status,expiredTimeType
    from t_link
    where status = #{status}
    order by orderId
  </select>
  
  <select id="fuzzySearch" resultMap="BaseResultMap" >
    select id, linkName, linkPosition, picturePath, linkType, linkUrl, pubTime, pubTimeType, 
    expiredTime, isShow, orderId, remark, status,expiredTimeType
    from t_link
    where status = #{status} and(linkName like concat(concat('%',#{keyword},'%')) or linkPosition like concat(concat('%',#{keyword},'%')))
    order by orderId
  </select>
  
</mapper>